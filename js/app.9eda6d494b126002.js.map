{"version":3,"file":"js/app.9eda6d494b126002.js","mappings":"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","sources":["webpack://WebRTC-Camera/./src/App.vue","webpack://WebRTC-Camera/./src/App.vue?7ccd","webpack://WebRTC-Camera/./src/registerServiceWorker.js","webpack://WebRTC-Camera/./src/views/HomeView.vue","webpack://WebRTC-Camera/./src/views/HomeView.vue?1da1","webpack://WebRTC-Camera/./src/views/InitializeView.vue","webpack://WebRTC-Camera/./src/views/InitializeView.vue?b7cd","webpack://WebRTC-Camera/./src/store/index.js","webpack://WebRTC-Camera/./src/router/index.js","webpack://WebRTC-Camera/./src/main.js","webpack://WebRTC-Camera/webpack/bootstrap","webpack://WebRTC-Camera/webpack/runtime/chunk loaded","webpack://WebRTC-Camera/webpack/runtime/compat get default export","webpack://WebRTC-Camera/webpack/runtime/define property getters","webpack://WebRTC-Camera/webpack/runtime/global","webpack://WebRTC-Camera/webpack/runtime/hasOwnProperty shorthand","webpack://WebRTC-Camera/webpack/runtime/jsonp chunk loading","webpack://WebRTC-Camera/webpack/startup"],"sourcesContent":["<template>  \n  <router-view/>\n</template>\n\n<style lang=\"scss\">\n\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=1e899853\"\nconst script = {}\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nconst isWebView = ()=> /wv/i.test(window.navigator.userAgent)\n\nif (process.env.NODE_ENV === 'production' && !isWebView()) {  \n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","<template>\n  <div id=\"screen\">\n    <div v-if=\"!isSaveMode\">\n      <nav class=\"navbar fixed-top d-block\" style=\"z-index: 999; background-color: rgba(0, 0, 0, 0.5)\">\n        <div class=\"row\">\n          <div class=\"col-6\">\n            <div class=\"d-flex\">\n              <button type=\"button\" class=\"btn text-white\">\n                <i class=\"bi bi-eye-fill\"></i>&nbsp;&nbsp;&nbsp;{{ Object.values(connectedPeers).length }}\n              </button>\n              <div class=\"dropdown\" v-if=\"supportedResolution[selectedResolution]\">\n                <button class=\"btn dropdown-toggle text-white\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                 해상도: {{ supportedResolution[selectedResolution].width }} x {{ supportedResolution[selectedResolution].height }}\n                </button>\n                <ul class=\"dropdown-menu\">\n                  <li v-for=\"(value, key) in supportedResolution\" :key=\"key\">\n                    <a class=\"dropdown-item\" href=\"javascript:;\" :class=\"[(selectedResolution != key) ? 'text-secondary' : '']\" @click=\"onClickChangeResolution(key)\">\n                      <i v-if=\"selectedResolution == key\" class=\"bi bi-check\"></i>\n                      <span v-else class=\"ms-3\"></span>\n                      {{ key }} ( {{ value.width }} x {{ value.height }} )\n                    </a>\n                  </li>\n                </ul>\n              </div>\n            </div>        \n          </div>\n          <div class=\"col-6 text-end\">\n            <div class=\"d-flex justify-content-between pe-3\">\n              <button v-if=\"!isWebView\" type=\"button\" class=\"btn text-white\" @click=\"onToggleNoSleep()\">\n                <i class=\"bi bi-display\"></i>\n              </button>\n              <button type=\"button\" class=\"btn text-white\" @click=\"onClickRefresh()\">\n                <i class=\"bi bi-arrow-clockwise\"></i>\n              </button> \n              <button type=\"button\" v-if=\"!isWebView\" class=\"btn text-white\" @click=\"toggleFullScreen()\">\n                <span v-if=\"isFullScreen\">\n                  <i class=\"bi bi-fullscreen-exit\"></i>\n                </span>\n                <span v-else>\n                  <i class=\"bi bi-fullscreen\"></i>\n                </span>\n              </button>\n              <button type=\"button\" class=\"btn text-white\" @click=\"onClickSaveMode(!isSaveMode)\">                \n                <i class=\"bi bi-battery-half\"></i><br><small>절전</small>\n              </button> \n              <button type=\"button\" class=\"btn text-white\" data-bs-toggle=\"modal\" data-bs-target=\"#qrcodeModal\">\n                <i class=\"bi bi-qr-code\"></i><br><small>QR</small>\n              </button>\n            </div>\n          </div>\n        </div>   \n      </nav>\n      <div class=\"fixed-top d-flex w-100 h-100 align-items-center justify-content-center bg-black\" style=\"z-index: 1;\">\n        <video class=\"video\" :class=\"[(isMirror) ? 'mirror' : '']\" ref=\"videoEl\"></video>\n      </div>\n      <div v-if=\"!isWebView && isMobile && !isLandscape\" class=\"fixed-bottom w-100 text-center text-white d-flex justify-content-center align-items-center p-3\">\n        <i class=\"bi bi-phone-landscape h1\"></i>\n        <div class=\"ps-3\">\n          가로모드로 전환 후<br>새로고침을 해주세요\n        </div>\n      </div>\n    </div>\n    <div class=\"fixed-top w-100 h-100 bg-black d-flex justify-content-center align-items-center\" v-else>\n      <div>\n        <div v-if=\"batteryState\" class=\"text-white h1 text-center mb-3\">\n          <i class=\"bi d-inline-block\" :class=\"[(batteryState.charging) ? 'bi-battery-charging' : 'bi-battery-half']\" style=\"transform: rotate(270deg)\"></i>\n          {{ batteryState.level * 100 }} <span class=\"h3\">%</span>\n        </div>\n        <button class=\"btn text-white\" @click=\"onClickSaveMode(!isSaveMode)\">        \n          <div class=\"h4\">\n            <i class=\"bi bi-unlock-fill\"></i> UNLOCK\n          </div>\n        </button>\n      </div>\n    </div>\n    \n    <div class=\"modal fade\" id=\"qrcodeModal\" tabindex=\"-1\" aria-labelledby=\"qrcodeModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-centered\">\n        <div class=\"modal-content\">        \n          <div class=\"modal-body\">\n            <div class=\"row\">\n              <div class=\"col\">\n                ID: {{ myPeerId }}\n              </div>\n              <div class=\"col-2 ms-auto text-end\">\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n              </div>\n            </div>\n            <div class=\"text-center\" v-if=\"qrImgSrc\">\n              <img :src=\"qrImgSrc\"/>\n            </div>\n          </div>\n          <div class=\"modal-footer justify-content-center border-0\">          \n            <button type=\"button\" class=\"btn btn-primary\" data-bs-dismiss=\"modal\" aria-label=\"Close\">Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted, ref, inject, computed, onUnmounted, nextTick } from \"vue\";\nimport { useStore } from \"vuex\";\nimport QRCode from 'qrcode';\nimport NoSleep from 'nosleep.js'\nconst noSleep = new NoSleep()\nconst store = useStore()\nconst videoEl = ref(null)\nlet peer = null;\n\nconst mediaDevices = ref({})\nconst qrImgSrc = ref(null)\n\nconst isMirror = ref(false)\nconst connectedPeers = ref({})\n\nconst isFullScreen = ref(false)\n\nconst videoStream = ref(null)\nconst orientationType = ref('')\nconst batteryState = ref(null)\n\nlet batteryTimer = null\n\nconst myPeerId = computed(()=>{\n  return store.getters.getPeerId\n})\n\nconst isSaveMode = ref(false)\n\nconst isAndroid = computed(()=> /Android/i.test(window.navigator.userAgent))\nconst isIOS = computed(()=> /iPhone|iPad|iPod/i.test(window.navigator.userAgent))\n\nconst isMobile = computed(()=> /iPhone|iPad|iPod|Android/i.test(window.navigator.userAgent))\n\nconst isWebView = computed(()=> /wv/i.test(window.navigator.userAgent))\n\nconst isLandscape = computed(()=>{\n  return orientationType.value.indexOf('landscape') > -1\n})\n\nconst resoutionOptions = {\n  'SD': {\n    width: 720,\n    height: 480\n  },\n  'HD': {\n    width: 1280,\n    height: 720\n  },\n  'FHD': {\n    width: 1920,\n    height: 1080\n  },\n  'QHD': {\n    width: 2560,\n    height: 1440\n  }\n}\n\nconst supportedResolution = ref({})\n\nconst selectedResolution = ref('SD')\n\nconst isNoSleep = ref(false)\n\nconst onToggleNoSleep = ()=>{\n  if(isNoSleep.value){\n    noSleep.disable()\n  }else{\n    noSleep.enable()\n  }\n}\n\nconst onClickRefresh = ()=> location.reload(true)\n\nconst onClickChangeResolution = (key)=>{\n  selectedResolution.value = key\n  const resolution = supportedResolution.value[key]  \n  const track = videoStream.value.getVideoTracks()[0]\n  track.applyConstraints({width: resolution.width, height: resolution.height})\n  .then(()=>{\n    console.log(videoStream.value.getVideoTracks()[0].getSettings())\n  }).catch(e=>{\n    console.error(e)\n  })\n}\n\nconst setBatteryTimer = async () =>{\n  if(!navigator.getBattery) return\n  batteryState.value = await navigator.getBattery()\n  batteryTimer = setInterval(async()=>{\n    batteryState.value = await navigator.getBattery()\n    console.log(batteryState.value)\n  }, 5000)\n}\n\nconst setSupportedResolution = ()=>{\n  const screenWidth = window.screen.width\n  const screenHeight = window.screen.height\n  const scale = window.devicePixelRatio ?? 1\n  let fullWidth = Math.floor(screenWidth * scale)\n  let fullHeight = Math.floor(screenHeight * scale)\n\n  let resolution = {}\n  for(let key in resoutionOptions) {\n    const item = resoutionOptions[key]    \n    if(item.width <= fullWidth && item.height <= fullHeight){\n      resolution[key] = item\n    }\n  }\n  supportedResolution.value = resolution  \n}\n\nconst getMediaConstraints = (resolution)=>{  \n  let videoWidth = resolution.width\n  let videoHeight = resolution.height\n  let constraints = { video: {width: {exact: videoWidth}, height: {exact: videoHeight} }, audio: false }    \n  if(isMobile.value){\n    constraints.video.aspectRatio = screenWidth / screenHeight\n    constraints.video.facingMode = { exact: \"environment\" }\n  }\n  console.log(JSON.stringify(constraints))\n  return constraints\n}\n\nconst loadMyVideo = async()=>{\n    const resolution = supportedResolution.value[selectedResolution.value]\n    const constraint = getMediaConstraints(resolution)\n    try{\n        const getUserMedia = navigator.mediaDevices.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n        const stream = await getUserMedia(constraint)\n        return stream\n    }catch(e) {\n        console.error(e)\n    }\n}\n\nconst onClickSaveMode = (isSave)=> {  \n  if(isSave) {\n    videoEl.value.srcObject = null\n    isSaveMode.value = isSave\n  }else{\n    isSaveMode.value = isSave\n    nextTick(()=>{\n      videoEl.value.srcObject = videoStream.value\n      videoEl.value.play()\n    })\n  }\n  \n}\n\nconst toggleFullScreen = ()=>{\n  const element = document.querySelector('#screen')\n  if (!document.fullscreenElement) {    \n    if(element.webkitRequestFullscreen){\n      element.webkitRequestFullscreen()\n    }else if(element.mozRequestFullScreen){\n      element.mozRequestFullScreen()\n    }else if(element.msRequestFullscreen){\n      element.msRequestFullscreen()\n    }else{\n      element.requestFullscreen()\n    }          \n    isFullScreen.value = true\n  } else {  \n    if (document.webkitCancelFullscreen){\n      document.webkitCancelFullscreen()\n    }else if(document.mozCancelFullScreen){\n      document.mozCancelFullScreen()\n    }else if(document.msExitFullscreen){\n      document.msExitFullscreen()\n    }else{\n      document.exitFullscreen()\n    }    \n    isFullScreen.value = false\n  }\n}\n\nconst loadCameras = async()=>{\n  const devices = await navigator.mediaDevices.enumerateDevices()  \n  const cameraDevices = devices.filter((item)=> item.kind == 'videoinput')\n  cameras.value = cameraDevices\n}\n\nconst orientationChangeListner = (event)=>{\n  orientationType.value = event.target.screen.orientation.type\n  if(videoStream.value){\n    const videoTrack = videoStream.value.getVideoTracks()[0]\n    const constraints = getMediaConstraints()\n    videoTrack.applyConstraints(constraints)\n    .then(()=>{})\n    .catch((e)=>{\n      console.error(e)\n    })\n  }\n}\n\nonMounted(async ()=>{\n  window.addEventListener('orientationchange', orientationChangeListner)\n  orientationType.value = window.screen.orientation.type\n  setBatteryTimer()\n  setSupportedResolution()  \n  const stream = await loadMyVideo()     \n  videoStream.value = stream\n  videoEl.value.srcObject = stream  \n  videoEl.value.play()  \n  qrImgSrc.value = await QRCode.toDataURL(myPeerId.value, {width: 200})\n  const peer = new Peer(myPeerId.value)\n\n  peer.on(\"open\", (id) => {              \n    \n  })\n\n  peer.on('connection', (conn)=>{        \n    conn.on('close', ()=>{\n      delete connectedPeers.value[conn.peer]\n    })\n  })\n\n  peer.on(\"call\", (call)=>{\n    call.answer(stream);    \n    connectedPeers.value[call.peer] = call\n    call.on('close', (event)=>{\n      console.log('close')\n    })    \n  })\n})\n\nonUnmounted(()=>{ \n  if(isNoSleep.value){\n    noSleep.disable()\n  } \n  window.removeEventListener('orientationchange', orientationChangeListner)\n})\n\n</script>\n\n\n<style lang=\"scss\" scoped>\n.video{  \n  width: 100%;\n  &.mirror{\n    transform: rotateY(180deg);\n    -webkit-transform:rotateY(180deg); /* Safari and Chrome */\n    -moz-transform:rotateY(180deg); /* Firefox */\n  }\n}\n</style>","import script from \"./HomeView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=4962d802&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4962d802\"]])\n\nexport default __exports__","<template>\n  <div class=\"fixed-top w-100 h-100 d-flex align-items-center justify-content-center\">\n    <div class=\"text-center\">\n      <div class=\"spinner-border text-primary mb-3\" role=\"status\">\n        <span class=\"visually-hidden\"></span>\n      </div>\n      <div class=\"h4 text-primary\">Initializing...</div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted } from \"vue\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { useStore } from \"vuex\";\nimport { useRoute, useRouter } from \"vue-router\";\n\nconst store = useStore()\nconst router = useRouter()\nconst route = useRoute()\n\nonMounted(()=>{\n  let myPeerId = localStorage.getItem('myid')\n  if(myPeerId == null){\n    myPeerId = route.query.uuid\n    myPeerId = (myPeerId == null) ? uuidv4() : myPeerId\n    localStorage.setItem('myid', myPeerId)\n  }  \n  store.commit('setPeerId', myPeerId)\n  router.replace('/')\n})\n</script>\n","import script from \"./InitializeView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./InitializeView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    peerId: null\n  },\n  getters: {\n    getPeerId(state) {\n      return state.peerId\n    }\n  },\n  mutations: {\n    setPeerId(state, id) {\n      state.peerId = id\n    }\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","import { createRouter, createWebHistory } from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\nimport InitView from '../views/InitializeView.vue'\nimport store from '../store'\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView,\n    beforeEnter: (to, from, next) => {\n      const peerId = store.getters['getPeerId']\n      if(peerId){\n        next()\n      }else{\n        const query = to.query\n        next({path: '/initialize', query: query})\n      }      \n    }\n  },\n  {\n    path: '/initialize',\n    name: 'initialize',\n    component: InitView\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nexport default router\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport './registerServiceWorker'\nimport router from './router'\nimport store from './store'\n\ncreateApp(App).use(store).use(router).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkWebRTC_Camera\"] = self[\"webpackChunkWebRTC_Camera\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(5121); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","script","__exports__","render","isWebView","test","window","navigator","userAgent","register","ready","console","log","registered","cached","updatefound","updated","offline","error","noSleep","NoSleep","store","useStore","videoEl","ref","qrImgSrc","isMirror","connectedPeers","isFullScreen","videoStream","orientationType","batteryState","batteryTimer","myPeerId","computed","getters","getPeerId","isSaveMode","isMobile","isLandscape","value","indexOf","resoutionOptions","width","height","supportedResolution","selectedResolution","isNoSleep","onToggleNoSleep","disable","enable","onClickRefresh","location","reload","onClickChangeResolution","key","resolution","track","getVideoTracks","applyConstraints","then","getSettings","catch","e","setBatteryTimer","async","getBattery","setInterval","setSupportedResolution","screenWidth","screen","screenHeight","scale","devicePixelRatio","fullWidth","Math","floor","fullHeight","item","getMediaConstraints","videoWidth","videoHeight","constraints","video","exact","audio","aspectRatio","facingMode","JSON","stringify","loadMyVideo","constraint","getUserMedia","mediaDevices","webkitGetUserMedia","mozGetUserMedia","stream","onClickSaveMode","isSave","srcObject","nextTick","play","toggleFullScreen","element","document","querySelector","fullscreenElement","webkitCancelFullscreen","mozCancelFullScreen","msExitFullscreen","exitFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","requestFullscreen","orientationChangeListner","event","target","orientation","type","videoTrack","onMounted","addEventListener","QRCode","peer","Peer","on","id","conn","call","answer","onUnmounted","removeEventListener","router","useRouter","route","useRoute","localStorage","getItem","query","uuid","uuidv4","setItem","commit","replace","createStore","state","peerId","mutations","setPeerId","actions","modules","routes","path","name","component","HomeView","beforeEnter","to","from","next","InitView","createRouter","history","createWebHistory","process","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}